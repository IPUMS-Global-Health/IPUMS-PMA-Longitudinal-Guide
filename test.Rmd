---
cap-location: margin
css:  [css/layout.css, css/fix-pagedown.css, css/fonts.css]
output:
  pagedown::html_paged: 
    toc: true
    self_contained: false
toc-title: Contents
paged-footnotes: true
lot: false
lof: false
toc: true 
---


```{r, setup, echo=FALSE}
knitr::opts_chunk$set(
  echo = FALSE, 
  comment = NA, 
  message = FALSE,
  R.options = list(width = 88),
  fig.align = "center"
)

source(here::here("r/utilities.r"))
```

# Introduction

```{r, echo=FALSE, results='hide'}
knitr::opts_chunk$set(echo = FALSE)
source(here::here("r/utilities.r"))


widef <- read_ipums_micro(
  ddi = "data/pma_00079.xml",
  data = "data/pma_00079.dat.gz"
)
```

[Performance Monitoring for Action (PMA)](https://www.pmadata.org/) uses innovative mobile technology to support low-cost, rapid-turnaround surveys that monitor key health and development indicators.

PMA surveys collect longitudinal data throughout a country at the household and health facility levels by female data collectors, known as resident enumerators, using mobile phones. The survey collects information from the same women and households over time for regular tracking of progress and for understanding the drivers of contraceptive use dynamics. The data are rapidly validated, aggregated, and prepared into tables and graphs, making results quickly available to stakeholders. PMA surveys can be integrated into national monitoring and evaluation systems using a low-cost, rapid-turnaround survey platform that can be adapted and used for various health data needs.

The PMA project is implemented by local partner universities and research organizations who train and deploy the cadres of female resident enumerators.

<aside>
PMA has also published a guide to **cross-sectional** analysis in both [English](https://www.pmadata.org/media/1243/download?attachment) and [French](https://www.pmadata.org/media/1244/download?attachment).
</aside>

The purpose of this manual is to provide guidance on the analysis of **harmonized panel data** for women age 15-49 surveyed by PMA and published in partnership with [IPUMS PMA](https://pma.ipums.org/pma/). IPUMS provides census and survey products from around the world in an integrated format, making it easy to compare data from multiple countries. IPUMS PMA data are available free of charge, subject to terms and conditions: please [register here](https://pma.ipums.org/pma/register.shtml) to request access to the data featured in this guide. 

This manual provides reproducible coding examples in the statistical programming language [R](https://www.r-project.org/). Each chapter also appears as a post on the IPUMS PMA [data analysis blog](https://tech.popdata.org/pma-data-hub/index.html), where you'll find new content posted every two weeks. 

**Stata users:** a companion manual for IPUMS PMA longitudinal analysis is also available with coding examples written in Stata. 

## IPUMS PMA data in R

The first two chapters of this manual introduce new users to [PMA longitudinal data](https://www.pmadata.org/data/survey-methodology) and the [IPUMS PMA website](https://pma.ipums.org/pma/), respectively. After demonstrating how to obtain an IPUMS PMA data extract, the remaining chapters feature extensive data analysis examples written in R. 

<aside class="hex">
```{r}
hex("Rlogo")
```
</aside>

To follow along, you'll need to download the appropriate version of R for your computer's operating system at [https://www.r-project.org/](https://www.r-project.org/). **R is available at no cost** and it runs on a wide variety of UNIX platforms, Windows, and MacOS. We also recommend downloading a free copy of [RStudio](https://www.rstudio.com/), an integrated development environment (IDE) designed to make your experience with R much easier. 

Individual chapters may introduce one or two **R packages** that provide helpful functions for longitudinal survey analysis, in particular. Two packages we feature in *every* chapter are [ipumsr](https://tech.popdata.org/ipumsr/) and [tidyverse](https://tidyverse.tidyverse.org/). You can install these and other packages featured in this guide like so: 

<aside class="hex">
```{r} 
hex("ipumsr")
```
</aside>

```{r, echo=TRUE, eval= FALSE}
install.packages("ipumsr")
install.packages("tidyverse")
```

The `ipumsr` package is designed to help R users import and explore data extracts downloaded from IPUMS. As we'll see, categorical data from IPUMS appears as **labelled integers** represented in R by a number and a label like this: 

```{r, echo = FALSE}
widef %>% count(COUNTRY)
```

The `tidyverse` is actually a collection of packages developed in-part by contributors at RStudio. These include: 

<aside class="hex">
```{r} 
hex("tidyverse")
```
</aside>

  - [ggplot2](https://ggplot2.tidyverse.org/) for data visualisation
  - [dplyr](https://dplyr.tidyverse.org/) for data manipulation
  - [tidyr](https://tidyr.tidyverse.org/) for data tidying
  - [readr](https://readr.tidyverse.org/) for data import
  - [purrr](https://purrr.tidyverse.org/) for functional programming
  - [tibble](https://tibble.tidyverse.org/) for tibbles, a modern re-imagining of data frames
  - [stringr](https://github.com/tidyverse/stringr) for strings
  - [forcats](https://github.com/tidyverse/forcats) for factors

 
