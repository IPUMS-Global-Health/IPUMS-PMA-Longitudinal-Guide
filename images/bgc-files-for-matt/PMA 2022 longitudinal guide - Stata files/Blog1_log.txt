--------------------------------------------------------------------------------
      name:  <unnamed>
       log:  Q:\BMGF - PMA IPUMS FP Blog Posts\PMA 2022 longitudinal guide - Sta
> ta files\Blog1_log.txt
  log type:  text
 opened on:   8 Nov 2022, 04:32:54

. 
. use pma_00126, clear

. 
. * In BF Phase 1, and had female questionnaire at least partly completed & 
. * under age 49 & usual resident who slept here last night.
. * Note: To be eligible for Phase 2, the woman had to be < age 49 at Phase 1.
. gen of_interest_1 = sample_1 ==  85409 & ///
>                     (resultfq_1 == 1 | resultfq_1 == 5 ) & ///
>                                         agehq_1 <  49 & ///
>                                         resident_1 != 21

. 
. * In BF Phase 2, and had female and household questionnaire completed & 
. * <= age 49 & usual resident or visitor who slept here last night
. gen of_interest_2 = sample_2 ==  85412 & ///
>                     (resultfq_2 == 1 & resulthq_2 == 1 ) & ///
>                                         agehq_2 <= 49 & ///
>                                         resident_2 != 21 & resident_2 != 31

. 
. * Of interest in both studies
. gen of_interest_both = of_interest_1 & of_interest_2

. 
. label variable cp_1    "Contraceptive user (Phase 1)"

. label variable cp_2    "Contraceptive user (Phase 2)"

. 
. keep if of_interest_both
(24,965 observations deleted)

. 
. table ( cp_1 ) ( cp_2 ) (), nototals missing zerocounts

--------------------------------------------------------------
                             |   Contraceptive user (Phase 2) 
                             |              no             yes
-----------------------------+--------------------------------
Contraceptive user (Phase 1) |                                
  no                         |           2,589             821
  yes                        |             556           1,241
  no response or missing     |               5               0
--------------------------------------------------------------

. 
. ******************************************************************************
> **
. 
. gen cp_both = cp_1 == 1 & cp_2 == 1 if cp_1 < 90
(5 missing values generated)

. label variable cp_both "Contraceptive user (Phases 1 & 2)"

. label define cp_both 1 "Yes" 0 "No", replace

. label values cp_both cp_both

. 
. * This is a lean svyset call.  We recall that the default vce option is 
. * vce(linearized) and the default singleunit option is (missing).  
. * Read the svyset documentation if you want to consider using other settings. 
>  
. * For now, the defaults are fine.
. 
. svyset eaid_1, strata(strata_1) weight(panelweight) 

Sampling weights: <none>
             VCE: linearized
     Single unit: missing
        Strata 1: strata_1
 Sampling unit 1: eaid_1
           FPC 1: <zero>
        Weight 1: panelweight

. svy: proportion cp_both
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =   2            Number of obs   =      5,207
Number of PSUs   = 167            Population size = 5,215.6413
                                  Design df       =        165

--------------------------------------------------------------
             |             Linearized            Logit
             | Proportion   std. err.     [95% conf. interval]
-------------+------------------------------------------------
     cp_both |
         No  |   .8122041    .012815      .7855839    .8362084
        Yes  |   .1877959    .012815      .1637916    .2144161
--------------------------------------------------------------

. 
. ******************************************************************************
> **
. 
. * Calculate the design effect for the most recent estimation
. estat effects

----------------------------------------------------------
             |             Linearized
             | Proportion   std. err.       DEFF      DEFT
-------------+--------------------------------------------
     cp_both |
         No  |   .8122041    .012815      5.6052   2.36753
        Yes  |   .1877959    .012815      5.6052   2.36753
----------------------------------------------------------

. 
. ******************************************************************************
> **
. 
. * Generate a dataset of a simple random sample of 5,207 respondents where
. * 18.8% have the outcome and estimate the proportion;
. 
. clear

. set obs 5207
Number of observations (_N) was 0, now 5,207.

. gen y = 0

. replace y = 1 if _n < 0.188 * 5207
(978 real changes made)

. tab y

          y |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      4,229       81.22       81.22
          1 |        978       18.78      100.00
------------+-----------------------------------
      Total |      5,207      100.00

. svyset _n

Sampling weights: <none>
             VCE: linearized
     Single unit: missing
        Strata 1: <one>
 Sampling unit 1: <observations>
           FPC 1: <zero>

. svy: proportion y
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =     1               Number of obs   = 5,207
Number of PSUs   = 5,207               Population size = 5,207
                                       Design df       = 5,206

--------------------------------------------------------------
             |             Linearized            Logit
             | Proportion   std. err.     [95% conf. interval]
-------------+------------------------------------------------
           y |
          0  |   .8121759   .0054131      .8013328    .8225583
          1  |   .1878241   .0054131      .1774417    .1986672
--------------------------------------------------------------

. 
. * Generate a dataset of a simple random sample of 929 respondents where
. * 18.8% have the outcome and estimate the proportion;
. 
. clear

. set obs 929
Number of observations (_N) was 0, now 929.

. gen y = 0

. replace y = 1 if _n < 0.188 * 929
(174 real changes made)

. tab y

          y |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        755       81.27       81.27
          1 |        174       18.73      100.00
------------+-----------------------------------
      Total |        929      100.00

. svyset _n

Sampling weights: <none>
             VCE: linearized
     Single unit: missing
        Strata 1: <one>
 Sampling unit 1: <observations>
           FPC 1: <zero>

. svy: proportion y
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =   1                   Number of obs   = 929
Number of PSUs   = 929                   Population size = 929
                                         Design df       = 928

--------------------------------------------------------------
             |             Linearized            Logit
             | Proportion   std. err.     [95% conf. interval]
-------------+------------------------------------------------
           y |
          0  |   .8127018   .0128073       .786262    .8365509
          1  |   .1872982   .0128073      .1634491     .213738
--------------------------------------------------------------

. 
. ******************************************************************************
> **
. 
. * Now examine the complex data 95% CI width divided by the 
. * simple random sample of 5,207 95% CI width and see that it is ~= DEFT
. 
. di (.2144-.1638) / (.1987-.1774)
2.3755869

. 
. ******************************************************************************
> **
. 
. use pma_00153, clear

. 
. * Phase 1 : had female questionnaire at least partly completed & 
. * under age 49 & usual resident who slept here last night
. gen of_interest_1 = (resultfq_1 == 1 | resultfq_1 == 5 ) & ///
>                     agehq_1 <  49  & resident_1 != 21

. 
. * Phase 2 : had female and household questionnaire completed & 
. * <= age 49 & usual resident or visitor who slept here last night
. gen of_interest_2 = (resultfq_2 == 1 & resulthq_2 == 1 ) & ///
>                     agehq_2 <= 49  & resident_2 != 21 & resident_2 != 31

. 
. * Of interest in both studies
. gen of_interest_both = of_interest_1 & of_interest_2

. 
. keep if of_interest_both
(12,453 observations deleted)

. 
. table ( strata_1 ) () ( country ) if of_interest_both, ///
>       nototals missing zerocounts

pma country = burkina faso
----------------------------------
                      |  Frequency
----------------------+-----------
strata                |           
  urban, burkina faso |      3,058
  rural, burkina faso |      2,154
----------------------------------

pma country = congo, democratic republic
-------------------
       |  Frequency
-------+-----------
strata |           
  .    |      3,487
-------------------

pma country = kenya
----------------------------------------
                            |  Frequency
----------------------------+-----------
strata                      |           
  bungoma - urban, kenya    |        153
  bungoma - rural, kenya    |        489
  kakamega - urban, kenya   |        133
  kakamega - rural, kenya   |        438
  kericho - urban, kenya    |        249
  kericho - rural, kenya    |        453
  kiambu - urban, kenya     |        214
  kiambu - rural, kenya     |        311
  kilifi - urban, kenya     |        170
  kilifi - rural, kenya     |        455
  kitui - urban, kenya      |        153
  kitui - rural, kenya      |        586
  nairobi - urban, kenya    |        494
  nandi - urban, kenya      |        260
  nandi - rural, kenya      |        711
  nyamira - urban, kenya    |        143
  nyamira - rural, kenya    |        382
  siaya - urban, kenya      |        130
  siaya - rural, kenya      |        437
  west pokot - urban, kenya |        104
  west pokot - rural, kenya |        474
----------------------------------------

pma country = nigeria
-----------------------------
                 |  Frequency
-----------------+-----------
strata           |           
  lagos, nigeria |      1,088
  kano - urban   |        437
  kano - rural   |        561
-----------------------------

. 
. ******************************************************************************
> **
. 
. table ( geocd ) if country == 2, nototals missing zerocounts

-------------------------------
                   |  Frequency
-------------------+-----------
province, congo dr |           
  kinshasa         |      1,973
  kongo central    |      1,514
-------------------------------

. 
. tab geocd

    province, |
     congo dr |      Freq.     Percent        Cum.
--------------+-----------------------------------
     kinshasa |      1,973       56.58       56.58
kongo central |      1,514       43.42      100.00
--------------+-----------------------------------
        Total |      3,487      100.00

. tab geocd, nolabel

  province, |
   congo dr |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      1,973       56.58       56.58
          2 |      1,514       43.42      100.00
------------+-----------------------------------
      Total |      3,487      100.00

. 
. ******************************************************************************
> **
. 
. * Note that the values of geocd are distinct from the values of strata_1
. sum strata_1

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
    strata_1 |     14,237    59259.26    20596.78      40410      85402

. sum geocd

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
       geocd |      3,487    1.434184    .4957204          1          2

. 
. * So make a new variable named strata_recode and set it to strata_1 
. * everywhere except DRC and set it to geocd in DRC
. clonevar strata_recode = strata_1 
(3,487 missing values generated)

. replace  strata_recode = geocd if country == 2
(3,487 real changes made)

. 
. * Now copy the value label from strata_1 into a new label named strata_recode
. * and update it with the labels from geocd
. 
. label copy STRATA_1 strata_recode, replace

. label define strata_recode 1 "Kinshasa, DRC" 2 "Kongo Central, DRC", modify

. 
. * Use the new value label with the new variable
. label values strata_recode strata_recode

. 
. * Note that the new variable is not missing for any women
. * of interest from Phase 1 and Phase 2
. tab strata_recode, m

                                 strata |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                          Kinshasa, DRC |      1,973       11.13       11.13
                     Kongo Central, DRC |      1,514        8.54       19.67
                 bungoma - urban, kenya |        153        0.86       20.54
                 bungoma - rural, kenya |        489        2.76       23.30
                kakamega - urban, kenya |        133        0.75       24.05
                kakamega - rural, kenya |        438        2.47       26.52
                 kericho - urban, kenya |        249        1.40       27.92
                 kericho - rural, kenya |        453        2.56       30.48
                  kiambu - urban, kenya |        214        1.21       31.69
                  kiambu - rural, kenya |        311        1.75       33.44
                  kilifi - urban, kenya |        170        0.96       34.40
                  kilifi - rural, kenya |        455        2.57       36.97
                   kitui - urban, kenya |        153        0.86       37.83
                   kitui - rural, kenya |        586        3.31       41.14
                 nairobi - urban, kenya |        494        2.79       43.92
                   nandi - urban, kenya |        260        1.47       45.39
                   nandi - rural, kenya |        711        4.01       49.40
                 nyamira - urban, kenya |        143        0.81       50.21
                 nyamira - rural, kenya |        382        2.16       52.36
                   siaya - urban, kenya |        130        0.73       53.10
                   siaya - rural, kenya |        437        2.47       55.56
              west pokot - urban, kenya |        104        0.59       56.15
              west pokot - rural, kenya |        474        2.67       58.82
                         lagos, nigeria |      1,088        6.14       64.96
                           kano - urban |        437        2.47       67.43
                           kano - rural |        561        3.17       70.59
                    urban, burkina faso |      3,058       17.25       87.85
                    rural, burkina faso |      2,154       12.15      100.00
----------------------------------------+-----------------------------------
                                  Total |     17,724      100.00

. 
. ******************************************************************************
> **
. 
. * Generate cp_both again for this wide dataset
. gen cp_both = cp_1 == 1 & cp_2 == 1 if cp_1 < 90
(19 missing values generated)

. label variable cp_both "Contraceptive user (Phases 1 & 2)"

. label define cp_both 1 "Yes" 0 "No", replace

. label values cp_both cp_both

. 
. svyset eaid_1, strata(strata_recode) weight(panelweight) 

Sampling weights: <none>
             VCE: linearized
     Single unit: missing
        Strata 1: strata_recode
 Sampling unit 1: eaid_1
           FPC 1: <zero>
        Weight 1: panelweight

. 
. * For Stata to estimate the proportion for each population, 
. * we will use the over(varname) option where varname needs to
. * be an integer variable - preferably with a value label. 
. 
. * So construct a new variable named pop_numeric and give it a 
. * unique value for each PMA population.
. 
. gen pop = .
(17,724 missing values generated)

. replace pop = 1 if country == 1 // Burkina Faso
(5,212 real changes made)

. replace pop = 2 if country == 2 & geocd == 1 // Kinshasa
(1,973 real changes made)

. replace pop = 3 if country == 2 & geocd == 2 // Kongo Central
(1,514 real changes made)

. replace pop = 4 if country == 7 // Kenya
(6,939 real changes made)

. replace pop = 5 if country == 9 & geong == 4 // Kano
(998 real changes made)

. replace pop = 6 if country == 9 & geong == 2 // Lagos
(1,088 real changes made)

. 
. label define pop ///
>            1 "Burkina Faso" ///
>            2 "DRC-Kinshasa" ///
>            3 "DRC-Kongo Central" ///
>            4 "Kenya" ///
>            5 "Nigeria-Kano" ///
>            6 "Nigeria-Lagos", replace

. 
. label values pop pop

. 
. svy : proportion cp_both , over(pop) 
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =  28                       Number of obs   =    17,705
Number of PSUs   = 665                       Population size = 17,691.26
                                             Design df       =       637

------------------------------------------------------------------------
                       |             Linearized            Logit
                       | Proportion   std. err.     [95% conf. interval]
-----------------------+------------------------------------------------
           cp_both@pop |
      No Burkina Faso  |   .8122041    .012815       .785736    .8360846
      No DRC-Kinshasa  |   .6802513   .0163794       .647268     .711525
 No DRC-Kongo Central  |   .7318119   .0287314      .6718062    .7843679
             No Kenya  |   .6342298   .0083126      .6177575    .6503939
      No Nigeria-Kano  |   .9463423   .0130503      .9141428    .9669031
     No Nigeria-Lagos  |   .7065456   .0176703      .6706908    .7400099
     Yes Burkina Faso  |   .1877959    .012815      .1639154     .214264
     Yes DRC-Kinshasa  |   .3197487   .0163794       .288475     .352732
Yes DRC-Kongo Central  |   .2681881   .0287314      .2156321    .3281938
            Yes Kenya  |   .3657702   .0083126      .3496061    .3822425
     Yes Nigeria-Kano  |   .0536577   .0130503      .0330969    .0858572
    Yes Nigeria-Lagos  |   .2934544   .0176703      .2599901    .3293092
------------------------------------------------------------------------

. 
. ******************************************************************************
> **
. 
. use pma_00126, clear

. 
. keep if sample_1 == 85409
(23,387 observations deleted)

. 
. table ( resident_1 ) () (), nototals missing zerocounts

-----------------------------------------------------------
                                               |  Frequency
-----------------------------------------------+-----------
usual member of household                      |           
  visitor, slept in hh last night              |        106
  usual member, did not sleep in hh last night |        174
  usual member, slept in hh last night         |      6,510
-----------------------------------------------------------

. table ( resident_2 ) () (), nototals missing zerocounts

-------------------------------------------------------------------------
                                                             |  Frequency
-------------------------------------------------------------+-----------
usual member of household                                    |           
  visitor, slept in hh last night                            |         74
  usual member, did not sleep in hh last night               |        230
  usual member, slept in hh last night                       |      5,993
  slept in hh last night, no response if usually lives in hh |          1
  .                                                          |        492
-------------------------------------------------------------------------

. 
. ******************************************************************************
> **
. 
. keep if inlist(resident_1,11,22) & inlist(resident_2,11,22)
(823 observations deleted)

. label variable resident_1 "Resident type - Phase 1"

. label variable resident_2 "Resident type - Phase 2"

. label define RESIDENT_1 11 "Visitor" 22 "Usual", modify

. label define RESIDENT_2 11 "Visitor" 22 "Usual", modify

. 
. table ( resident_1 ) ( resident_2 ) (), nototals missing zerocounts

----------------------------------------------------
                        |   Resident type - Phase 2 
                        |       Visitor        Usual
------------------------+---------------------------
Resident type - Phase 1 |                           
  Visitor               |            56           39
  Usual                 |            17        5,855
----------------------------------------------------

. 
. ******************************************************************************
> **
. 
. use pma_00126, clear

. 
. keep if sample_1 == 85409
(23,387 observations deleted)

. 
. tab resultfq_2, m

         result of female questionnaire |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                              completed |      5,491       80.87       80.87
                            not at home |         78        1.15       82.02
                              postponed |         22        0.32       82.34
                                refused |         66        0.97       83.31
                       partly completed |         12        0.18       83.49
                       respondent moved |         15        0.22       83.71
                          incapacitated |         19        0.28       83.99
 not interviewed (female questionnaire) |          4        0.06       84.05
not interviewed (household questionnair |        192        2.83       86.88
                  niu (not in universe) |        399        5.88       92.75
                                      . |        492        7.25      100.00
----------------------------------------+-----------------------------------
                                  Total |      6,790      100.00

. 
. label list RESULTFQ_2
RESULTFQ_2:
           1 completed
           2 not at home
           3 postponed
           4 refused
           5 partly completed
           6 respondent death
           7 respondent moved
           8 household moved
          10 incapacitated
          90 other
          95 not interviewed (female questionnaire)
          96 not interviewed (household questionnaire)
          99 niu (not in universe)

. 
. ******************************************************************************
> **
. 
. use pma_00126, clear

. 
. keep if sample_1 == 85409
(23,387 observations deleted)

. 
. keep if resultfq_2 == 1
(1,299 observations deleted)

. 
. tab resultfq_1 resultfq_2,m

                      | result of
                      |   female
                      | questionna
     result of female |    ire
        questionnaire | completed |     Total
----------------------+-----------+----------
            completed |     5,487 |     5,487 
     partly completed |         4 |         4 
----------------------+-----------+----------
                Total |     5,491 |     5,491 

. 
. ******************************************************************************
> **
. 
. use pma_00126, clear

. 
. keep if sample_1 == 85409
(23,387 observations deleted)

. 
. keep if inlist(resident_1,11,22) & inlist(resident_2,11,22) & resultfq_2 == 1
(1,578 observations deleted)

. 
. tab resultfq_1 resultfq_2,m

                      | result of
                      |   female
                      | questionna
     result of female |    ire
        questionnaire | completed |     Total
----------------------+-----------+----------
            completed |     5,208 |     5,208 
     partly completed |         4 |         4 
----------------------+-----------+----------
                Total |     5,212 |     5,212 

. 
. 
. ******************************************************************************
> **
. ******************************************************************************
> **
. ******************************************************************************
> **
. ******************************************************************************
> **
. ******************************************************************************
> **
. 
. * This block of code is not in the chapter, but it explores the % of 
. * contraceptive users in phase 1 and phase 2 and then in phases 1 and 2.
. 
. use pma_00126, clear

. 
. keep if sample_1 ==  85409 | sample_2 ==  85412
(21,920 observations deleted)

. 
. * In BF Phase 1, and had female questionnaire at least partly completed & 
. * under age 49 & usual resident who slept here last night
. * Note: To be eligible for Phase 2, the woman had to be < age 49 at Phase 1.
. gen of_interest_1 = sample_1 ==  85409 & ///
>                     (resultfq_1 == 1 | resultfq_1 == 5 ) & ///
>                                         agehq_1 <  49 & ///
>                                         resident_1 != 21

. 
. * In BF Phase 2, and had female and household questionnaire completed & 
. * <= age 49 & usual resident or visitor who slept here last night
. gen of_interest_2 = sample_2 ==  85412 & ///
>                     (resultfq_2 == 1 & resulthq_2 == 1 ) & ///
>                                         agehq_2 <= 49 & ///
>                                         resident_2 != 21 & resident_2 != 31

. 
. * Of interest in both studies
. gen of_interest_both = of_interest_1 & of_interest_2

. 
. gen cp_both = cp_1 == 1 & cp_2 == 1

. label define cp_both 1 "Yes" 0 "No", replace

. label values cp_both cp_both

. 
. label variable cp_1    "Contraceptive user (Phase 1)"

. label variable cp_2    "Contraceptive user (Phase 2)"

. label variable cp_both "Contraceptive user (Phases 1 & 2)"

. 
. table ( cp_1 ) ( cp_2 ) () if of_interest_both, nototals missing zerocounts

--------------------------------------------------------------
                             |   Contraceptive user (Phase 2) 
                             |              no             yes
-----------------------------+--------------------------------
Contraceptive user (Phase 1) |                                
  no                         |           2,589             821
  yes                        |             556           1,241
  no response or missing     |               5               0
--------------------------------------------------------------

. 
. svyset eaid_1, strata(strata_1) weight(fqweight_1) 

Sampling weights: <none>
             VCE: linearized
     Single unit: missing
        Strata 1: strata_1
 Sampling unit 1: eaid_1
           FPC 1: <zero>
        Weight 1: fqweight_1

. svy, subpop(of_interest_1 ):    proportion cp_1
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =   2                       Number of obs   =      6,790
Number of PSUs   = 167                       Population size =      6,590
                                             Subpop. no. obs =      6,522
                                             Subpop. size    = 6,514.7411
                                             Design df       =        165

-------------------------------------------------------------------------
                        |             Linearized            Logit
                        | Proportion   std. err.     [95% conf. interval]
------------------------+------------------------------------------------
                   cp_1 |
                    no  |   .7252424   .0143634      .6959943    .7526764
                   yes  |   .2747576   .0143634      .2473236    .3040057
no response or missing  |          0  (no observations)
-------------------------------------------------------------------------

. 
. svyset eaid_2, strata(strata_2) weight(fqweight_2) 

Sampling weights: <none>
             VCE: linearized
     Single unit: missing
        Strata 1: strata_2
 Sampling unit 1: eaid_2
           FPC 1: <zero>
        Weight 1: fqweight_2

. svy, subpop(of_interest_2 ):    proportion cp_2
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =   2                                  Number of obs   = 7,236
Number of PSUs   = 167                                  Population size = 6,388
                                                        Subpop. no. obs = 6,388
                                                        Subpop. size    = 6,388
                                                        Design df       =   165

-------------------------------------------------------------------------------
                              |             Linearized            Logit
                              | Proportion   std. err.     [95% conf. interval]
------------------------------+------------------------------------------------
                         cp_2 |
                          no  |   .6765708   .0162463      .6437015    .7077844
                         yes  |   .3234292   .0162463      .2922156    .3562985
not interviewed (female q..)  |          0  (no observations)
not interviewed (househol..)  |          0  (no observations)
      no response or missing  |          0  (no observations)
niu (not in universe) or m..  |          0  (no observations)
-------------------------------------------------------------------------------
Note: 1 stratum omitted because it contains no subpopulation members.

. 
. clonevar eaid_either = eaid_1
(1,467 missing values generated)

. replace eaid_either = eaid_2 if missing(eaid_either)
(1,467 real changes made)

. 
. svyset eaid_either, strata(strata_1) weight(panelweight) 

Sampling weights: <none>
             VCE: linearized
     Single unit: missing
        Strata 1: strata_1
 Sampling unit 1: eaid_either
           FPC 1: <zero>
        Weight 1: panelweight

. svy, subpop(of_interest_both ): proportion cp_both
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =   2            Number of obs   =      6,298
Number of PSUs   = 167            Population size =      5,491
                                  Subpop. no. obs =      5,212
                                  Subpop. size    = 5,217.5263
                                  Design df       =        165

--------------------------------------------------------------
             |             Linearized            Logit
             | Proportion   std. err.     [95% conf. interval]
-------------+------------------------------------------------
     cp_both |
         No  |   .8122719   .0128091      .7856638    .8362652
        Yes  |   .1877281   .0128091      .1637348    .2143362
--------------------------------------------------------------

. 
. capture log close
